---
import Layout from '~/layouts/Layout.astro';
import Header from '~/components/widgets/Header.astro';
import Footer from '~/components/widgets/Footer.astro';
import Hero from '~/components/widgets/Hero.astro';
import Steps from '~/components/widgets/Steps.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import Features from '~/components/widgets/Features.astro';
import Button from '~/components/ui/Button.astro';

// Import navigation data
import { headerData, footerData } from '~/navigation';

// This is your new interactive button component
import ClipboardCopyButton from '~/components/ui/ClipboardCopyButton.tsx';

// You can edit your site metadata in src/config.yaml
const metadata = {
  title: 'Koho Referral Codes - Get Your $20 Sign-up Bonus',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <Header {...headerData} isSticky />

  <Hero
    animate={false}
  >
    <Fragment slot="title">
      <h1 class="text-3xl md:text-4xl font-bold leading-tight tracking-tight mb-4 font-heading dark:text-gray-200">
        Click or copy the Koho referral code below when you sign up for Koho for a $65 Value Bonus
      </h1>
    </Fragment>
  </Hero>

  <WidgetWrapper
    containerClass="bg-white dark:bg-slate-900 py-4 md:py-8 -mt-16 md:-mt-20"
    animate={false}
  >
    <div class="flex flex-col items-center gap-4 max-w-5xl mx-auto">
      <!-- Two-column layout: Bonus Button (left) | divider | Copy Code (right) -->
      <div class="flex flex-col md:flex-row items-center justify-center gap-0 md:gap-0 w-full">
        <!-- Left: Get Your Koho Bonus Button -->
        <div class="flex-shrink-0 w-full md:w-auto flex justify-center mb-1 md:mb-0 md:mr-2">
          <Button
            variant="primary"
            href="https://referral.koho.ca/mzGV8zw"
            target="_blank"
            class="px-8 py-4 text-lg md:px-10"
            showArrow
          >
            Get Your Koho Bonus
          </Button>
        </div>
        
        <!-- Middle: Vertical divider line -->
        <div class="hidden md:block w-2 h-24 bg-gray-400 dark:bg-gray-500 mx-2 z-10"></div>
        <div class="md:hidden w-full max-w-xs h-2 bg-gray-400 dark:bg-gray-500 my-1 z-10 relative"></div>
        
        <!-- Right: Copy Referral Code Button -->
        <div class="flex-shrink-0 w-full md:w-auto flex justify-center -mt-6 md:mt-0">
          <ClipboardCopyButton client:load referralCode="C4MNILZARC" buttonText="Copy Referral Code" />
        </div>
      </div>
      
      <!-- Bottom instruction text -->
      <div class="text-center -mt-2 md:mt-2">
        <p class="text-base font-medium text-gray-700 dark:text-gray-300">
          Either way works! Just be sure to enter the promo during signup.
        </p>
      </div>
    </div>
  </WidgetWrapper>

  <Steps
    animate={false}
    title="How It Works in 3 Easy Steps"
    classes={{
      headline: {
        container: 'text-center',
      }
    }}
    items={[
      {
        title: 'Sign Up for Koho',
        description:
          'Download the Koho app to create your account. <span class="font-bold">There is no credit check!</span>',
        icon: 'tabler:user-plus',
      },
      {
        title: 'Enter the Referral Code',
        description:
          'Enter the code <span class="font-bold">C4MNILZARC</span> during sign-up.',
        icon: 'tabler:writing-sign',
      },
      {
        title: 'Get Your Bonus',
        description:
          'Make a $20 purchase with your Koho card to get your <span class="font-bold">$20 + $45 Bonus.</span>',
        icon: 'tabler:gift',
      },
    ]}
  />

  <div class="bg-gray-50 dark:bg-slate-800">
    <div class="max-w-7xl mx-auto px-4 py-16 text-center">
      <h2 class="text-4xl md:text-5xl font-bold tracking-tighter mb-8 font-heading">What is KOHO?</h2>
      <div class="text-lg text-muted-foreground max-w-3xl mx-auto space-y-6">
        <p class="bg-white dark:bg-slate-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
          KOHO is a Canadian financial technology company that provides a modern alternative to traditional banking. Founded in 2014 and headquartered in Toronto, KOHO has grown to serve over 500,000 Canadians who are looking for a smarter way to manage their money.
        </p>
        <p class="bg-blue-50 dark:bg-slate-900 p-6 rounded-lg shadow-sm border border-blue-200 dark:border-gray-700">
          Unlike traditional banks, KOHO offers a mobile-first experience with no monthly fees, no minimum balance requirements, and no hidden charges. The platform combines a prepaid Visa card with a high-interest savings account, giving users the best of both worlds.
        </p>
        <p class="bg-white dark:bg-slate-900 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
          KOHO's mission is to help Canadians achieve financial wellness through transparent, accessible, and intelligent financial services. The platform provides instant cash back on purchases, automatic savings tools, and detailed spending insights to help users make better financial decisions.
        </p>
      </div>
    </div>
  </div>

  <Features
    animate={false}
    title="How KOHO Works"
    items={[
      {
        title: 'The KOHO Card',
        description:
          'Your KOHO account comes with a prepaid Visa card that works anywhere Visa is accepted. Use it for everyday purchases, online shopping, or contactless payments. Every transaction earns you instant cash back.',
        icon: 'tabler:credit-card',
      },
      {
        title: 'High-Interest Savings',
        description:
          "Your funds are held in a high-interest savings account, so your money grows even when you're not spending. Interest is calculated daily and paid monthly, with no minimum balance required.",
        icon: 'tabler:trending-up',
      },
      {
        title: 'Smart Money Management',
        description:
          'The KOHO app provides real-time spending insights, automatic budgeting tools, and savings goals to help you stay on top of your finances. See exactly where your money goes and make smarter financial decisions.',
        icon: 'tabler:device-analytics',
      },
      {
        title: 'No Hidden Fees',
        description:
          'KOHO believes in transparent pricing. There are no monthly account fees, no minimum balance requirements, no overdraft fees, and no hidden charges. What you see is what you get.',
        icon: 'tabler:receipt-off',
      },
    ]}
  />

  <div class="bg-gray-50 dark:bg-slate-800">
    <Features
      animate={false}
      title="Safety & Security"
      subtitle="KOHO takes security seriously. Here's how your money and information are protected:"
      items={[
      {
        title: 'CDIC Insurance',
        description:
          'Funds are held with a federally regulated financial institution and protected by CDIC insurance up to $100,000.',
        icon: 'tabler:shield-check',
      },
      {
        title: 'Bank-Level Encryption',
        description: 'All data is encrypted using industry-standard 256-bit SSL encryption.',
        icon: 'tabler:lock',
      },
      {
        title: 'Fraud Protection',
        description: 'Real-time fraud monitoring and zero liability protection for unauthorized transactions.',
        icon: 'tabler:shield-lock',
      },
      {
        title: 'Instant Notifications',
        description: 'Get notified of every transaction in real-time to catch any suspicious activity immediately.',
        icon: 'tabler:bell-ringing',
      },
      {
        title: 'Card Controls',
        description: "Lock and unlock your card instantly from the app if it's lost or stolen.",
        icon: 'tabler:hand-stop',
      },
    ]}
    />
  </div>

  <FAQs
    animate={false}
    title="Frequently Asked Questions"
    items={[
      {
        title: 'When will I receive my $20 + $45 bonus?',
        description:
          'Your bonus will be credited to your account within 1-2 business days after you successfully spend from your KOHO account at least $20. Make sure to complete this within 30 days of signing up.',
      },
      {
        title: 'Do I need to make a purchase to get the bonus?',
        description:
          'Yes, it can be anything. We recommend a gift card (like Amazon) of at least $20 within 30 days of signup, and the bonus will be automatically credited to your account.',
      },
      {
        title: 'Can I use KOHO if I already have a bank account?',
        description:
          'Yes! KOHO works alongside your existing bank account. Many users keep both - using KOHO for daily spending to earn cash back while maintaining their traditional bank for other services.',
      },
      {
        title: 'Are there any monthly fees?',
        description:
          'KOHO offers a free tier with no monthly fees. There\'s also KOHO Extra and KOHO Everything plans with additional features for $4 and $9 per month respectively, but these are completely optional.',
      },
      {
        title: 'Is KOHO safe and secure?',
        description:
          'Yes, KOHO is regulated by Canadian banking authorities. Your funds are held in a high-interest savings account with a federally regulated financial institution and are protected by CDIC insurance up to $100,000.',
      },
      {
        title: 'What if I forget to enter the referral code?',
        description:
          'Unfortunately, referral codes must be entered during the initial signup process and cannot be applied retroactively. Make sure to enter code C4MNILZARC when creating your account.',
      },
      {
        title: 'Can I refer my friends after signing up?',
        description:
          'Absolutely! Once you\'re a KOHO user, you\'ll get your own referral code. When your friends sign up using your code, both you and your friend can earn bonuses.',
      },
      {
        title: 'What can I use KOHO for?',
        description:
          'KOHO can be used anywhere Visa is accepted - online, in stores, and for contactless payments. You\'ll also get instant cash back on purchases, automatic savings tools, and detailed spending insights.',
      },
    ]}
  />

  <div class="bg-gray-50 dark:bg-slate-800">
    <BlogLatestPosts
      animate={false}
      title="From the Blog"
    />
  </div>

  <Footer {...footerData} />
</Layout>